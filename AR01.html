
<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<!--
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
<script>THREEx.ArToolkitContext.baseURL = 'https://rawgit.com/jeromeetienne/ar.js/master/three.js/'</script>
-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<style>
    #scaleup{position: fixed;z-index: 5;bottom: 20px;font-size: 30px;font-weight: bold;left: 50%;transform: translate(-100%,0);background-color: aqua;text-align: center;padding:10px 30px;}
    #scaledown{position: fixed;z-index: 5;bottom: 20px;font-size: 30px;font-weight: bold;right: 50%;transform: translate(100%,0);background-color: aqua;text-align: center;padding:10px 30px;}
    #consoles{display: none;position: fixed;bottom:20px;left: 0;font-size: 28px;background-color: burlywood;padding: 10px 10px;text-align: center;}
    /*display: none;*/
</style>
<body style='margin : 0px; overflow: hidden;'>
<span id="scaleup">+</span>
<span id="scaledown">-</span>
<div id="consoles">
    <p>false</p>
    <p>false</p>
    <p>false</p>
</div>
<a-scene embedded arjs='sourceType: webcam;trackingMethod: best;debugUIEnabled: false;'>
    <a-assets>
        <a-asset-item id="airplane_asset_mtl" src="https://raw.githubusercontent.com/prashant-andani/AR-Alphabets-words/master/assets/airplane/FREOBJ.mtl"></a-asset-item>
        <a-asset-item id="airplane_asset_obj" src="https://raw.githubusercontent.com/prashant-andani/AR-Alphabets-words/master/assets/airplane/FREOBJ.obj"></a-asset-item>
        <a-asset-item id="GHbmw_obj" src="https://raw.githubusercontent.com/JackLiangTW/ARjs/master/BMWX54.obj"></a-asset-item>
        <a-asset-item id="GHbmw_mtl" src="https://raw.githubusercontent.com/JackLiangTW/ARjs/master/BMWX54.mtl"></a-asset-item>
        <a-asset-item id="bmw_obj" src="./models/BMWX54.obj"></a-asset-item>
        <a-asset-item id="bmw_mtl" src="./models/BMWX54.mtl"></a-asset-item>
        <a-asset-item id="dogs_obj" src="./models/12228_Dog_v1_L2.obj"></a-asset-item>
        <a-asset-item id="dogs_mtl" src="./models/12228_Dog_v1_L2.mtl"></a-asset-item>
        <a-asset-item id="bulldogs_obj" src="./models/13458_Bullmastiff_v1_L3.obj"></a-asset-item>
        <a-asset-item id="bulldogs_mtl" src="./models/13458_Bullmastiff_v1_L3.mtl"></a-asset-item>
    </a-assets>

    <a-marker id="markers1" type='pattern' url='https://raw.githubusercontent.com/JackLiangTW/ARjs/master/hundreds.patt'>
        <a-entity position="0 0 0" scale="0.02 0.02 0.02" rotation="0 180 270" obj-model="obj: #bulldogs_obj; mtl: #bulldogs_mtl">
            <a-animation attribute="rotation" begin="rotate" end="endrotate" fill="forwards" to="0 180 630"></a-animation>
        </a-entity>
    </a-marker>   

    <a-marker id="markers2" type='pattern' url='https://raw.githubusercontent.com/JackLiangTW/ARjs/master/pattern-marker1.patt'>        
        <!--
        <a-entity position="0 0 -0.5" scale="0.02 0.02 0.02" rotation="0 180 180" obj-model="obj: #dogs_obj; mtl: #dogs_mtl">
            <a-animation attribute="rotation" begin="rotate" end="endrotate" fill="forwards" to="0 180 540" dur="1500"></a-animation>
            <a-animation attribute="scale" begin="scaleup" end="scaleend" fill="backwards" to="0.05 0.05 0.05" dur="1000"></a-animation>
        </a-entity>
        -->
        <a-entity scale="0.3 0.3 0.3" rotation="180 0 0" obj-model="obj: #airplane_asset_obj; mtl: #airplane_asset_mtl">
            <a-animation attribute="rotation" begin="rotate" end="endrotate" fill="forwards" to="180 360 0" dur="1500"></a-animation>
        </a-entity>
    </a-marker>

    <a-marker id="markers3" preset='hiro'>
        <!--<a-entity scale="0.3 0.3 0.3" obj-model="obj: #airplane_asset_obj; mtl: #airplane_asset_mtl"></a-entity>-->
        <!--<a-entity scale="0.005 0.005 0.005" obj-model="obj: #GHbmw_obj; mtl: #GHbmw_mtl"></a-entity>-->
        <a-entity scale="0.005 0.005 0.005" obj-model="obj: #bmw_obj; mtl: #bmw_mtl">
            <a-animation attribute="rotation" begin="rotate" end="endrotate" fill="forwards" to="0 360 0"></a-animation>
        </a-entity>
        <a-entity id="show1" position="0 0 1" scale="0.0 0.0 0.0" rotation="270 180 270" obj-model="obj: #bulldogs_obj; mtl: #bulldogs_mtl">
            <a-animation attribute="rotation" begin="rotate" end="endrotate" fill="forwards" to="0 180 630"></a-animation>
        </a-entity>
        <a-entity id="show2" position="0 0 -1" scale="0.0 0.0 0.0" rotation="270 0 0" obj-model="obj: #airplane_asset_obj; mtl: #airplane_asset_mtl">
            <a-animation attribute="rotation" begin="rotate" end="endrotate" fill="forwards" to="0 360 0" dur="1500"></a-animation>
        </a-entity>
        <a-entity id="show3" position="0 1 0" scale="0.0 0.0 0.0" rotation="0 180 180" obj-model="obj: #dogs_obj; mtl: #dogs_mtl">
            <a-animation attribute="rotation" begin="rotate" end="endrotate" fill="forwards" to="0 180 540" dur="1500"></a-animation>
            <a-animation attribute="scale" begin="scaleup" end="scaleend" fill="backwards" to="0.05 0.05 0.05" dur="1000"></a-animation>
        </a-entity>
        
    </a-marker>
    
    <a-entity camera>
    </a-entity>
  </a-scene>
<script>

    var thisobj;//thisobj=$(this).find('a-entity');
    let anup=document.createElement("a-animation");
      anup.setAttribute("attribute", "scale");
      anup.setAttribute("begin", "rotate");
      anup.setAttribute("end", "endRotate");
      anup.setAttribute("dur", "26000");
      anup.setAttribute("fill", "forwards");
      anup.setAttribute("to", "0 270 0");
      anup.setAttribute("repeat", "indefinite");
      anup.setAttribute("easing", "linear");
      var Tar1=false;
      var Tar2=false;
      var Tar3=false;
    $( document ).ready(function() {
        $("#scaleup").on("click",function(){
            $(this).css('background-color','rgb(255,0,0)');
            //thisobj.find('a-entity').attr("scale","0.5 0.5 0.5");
            thisobj.emit('rotate');
            thisobj.emit('scaleup');
        });
        $("#scaledown").on("click",function(){
            $(this).css('background-color','rgb(255,0,0)');
            thisobj.emit('scaleend');
            thisobj.emit('endrotate');
        });
        $('#markers1').on('markerFound',function(){
            //$('#consoles p:eq(0)').text('true'+thisobj).siblings('p').text('false');
            thisobj=document.getElementById("markers1").children[0];
            thisobj.emit('rotate');
            $("#show1").attr("scale","0.02 0.02 0.02");
            Tar1=true;
        });
        $('#markers2').on('markerFound',function(){
            //$('#consoles p:eq(1)').text('true'+thisobj).siblings('p').text('false');
            thisobj=document.getElementById("markers2").children[0];
            thisobj.emit('rotate');
            $("#show2").attr("scale","0.3 0.3 0.3");
            Tar2=true;
        });
        $('#markers3').on('markerFound',function(){
            //thisobj=$(this);
            //$('#consoles p:eq(2)').text('true'+thisobj).siblings('p').text('false');
            //$('#markers3').find('a-entity').emit('rotate');
            //$('#markers3').append('"'+objs1+'"');
            //$("#show1").css("display","block");
            thisobj=document.getElementById("markers3").children[0];
            thisobj.emit('rotate');
            if(Tar1){$("#show3").attr("scale","0.02 0.02 0.02");}
        });
        $('#markers1').on("markerLost",function(){Tar1=false;});
        $('#markers2').on("markerLost",function(){Tar2=false;});
        
    });
    /*
    $("#scaleup").on("click",function(){
                $(this).css('background-color','rgb(255,0,0)');
              $("#markers1").find('a-entity').attr("scale","0.5 0.5 0.5");
              $("#markers1").find('a-entity').emit('rotate');
            });
            $("#scaledown").on("click",function(){
                $(this).css('background-color','rgb(255,0,0)');
                $("#markers1").find('a-entity').attr("scale","0.3 0.3 0.3");
                $("#markers1").find('a-entity').emit('rotate');
            });
        $("#scaleup").on("click",function(){
                $(this).css('background-color','rgb(255,0,0)');
              $("#markers2").find('a-entity').attr("scale","0.5 0.5 0.5");
              $("#markers2").find('a-entity').emit('rotate');
            });
            $("#scaledown").on("click",function(){
                $(this).css('background-color','rgb(255,0,0)');
                $("#markers2").find('a-entity').attr("scale","0.3 0.3 0.3");
                $("#markers2").find('a-entity').emit('rotate');
            });
        $("#scaleup").on("click",function(){
                $(this).css('background-color','rgb(255,0,0)');
                $("#markers3").find('a-entity').emit('rotate');
                $("#markers3").find('a-entity').attr("scale","0.02 0.02 0.02");
            });
            $("#scaledown").on("click",function(){
                $(this).css('background-color','rgb(255,0,0)');
                $("#markers3").find('a-entity').attr("scale","0.005 0.005 0.005");
                $("#markers3").find('a-entity').emit('rotate');
            });

    */
    /*
    m.addEventListener("markerFound", (e)=>{
        thisobj=this;
    })
    scup.addEventListener("click",function(){
        .setAttribute("scale"
    });
    scdn.addEventListener("click",function(){

    });
    */



	/*
        <a-asset-item id="bmw_obj" src="models/BMWX54.obj"></a-asset-item>
        <a-asset-item id="bmw_mtl" src="models/BMWX54.mtl"></a-asset-item>

<a-marker type='pattern' url='https://raw.githubusercontent.com/vettorazi/aframe-gltf-models/master/markerv6.patt'>
        <a-box position='0 0 0' rotation="0 45 0" material='color: red;'></a-box>
        <a-entity scale="0.3 0.3 0.3" obj-model="obj: #airplane_asset_obj; mtl: #airplane_asset_mtl"></a-entity>
</a-marker>


<a-marker type='pattern' url='https://raw.githubusercontent.com/vettorazi/aframe-gltf-models/master/markerv6.patt'>
        <a-entity scale="0.3 0.3 0.3" obj-model="obj: #bmw_obj; mtl: #bmw_mtl"></a-entity>
        <a-entity scale="0.3 0.3 0.3" obj-model="obj: #IOS_obj; mtl: #IOS_mtl"></a-entity>
</a-marker>

<a-marker preset='hiro'>
        <a-box position='0 0.5 0' material='color: green;'></a-box>
</a-marker>
<a-entity scale="0.3 0.3 0.3" obj-model="obj: #GHbmw_obj; mtl: #GHbmw_mtl"></a-entity>
	*/
</script>
</body>

</html>